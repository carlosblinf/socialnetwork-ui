import{P as y}from"./index.e7ea23fd.js";import{u as S,s as L,j as e,a as p,r as l,b as P,c as C,d as s,F,v as h,e as I,t as $,f as g}from"./index.74ad95db.js";import"./index.esm.c6e5169c.js";function j(){const t=S(L);return e(y,{posts:t})}function k(){const{authUser:t}=p(),[n,r]=l.exports.useState([]),{changeImages:o,openModal:u}=P(),v=C(),c=l.exports.useRef(null);l.exports.useEffect(()=>{},[n]);const f=({currentTarget:{files:a}})=>{a&&a.length&&r(i=>[...i,...a])},d=()=>n.map((a,i)=>({id:h(),url:URL.createObjectURL(a)})),N=()=>{n&&n.length&&(o(d()),u())},m=()=>{r([]),o([])},b=()=>{var i;const a=(i=c.current)==null?void 0:i.value;if(a&&(a==null?void 0:a.length)>0){const x={id:h(),author:t,date:new Date().toISOString(),text:a,images:[...d()]};v(I(x)),m(),c.current.value=""}else $.show({title:"Error",content:"Empty post text, share something"})};return e("div",{className:"share",children:s("div",{className:"container",children:[s("div",{className:"top",children:[s("div",{className:"left",children:[e("img",{src:t==null?void 0:t.avatar,alt:"user"}),e("input",{type:"text",placeholder:`What's new, ${t==null?void 0:t.firstName}?`,ref:c})]}),e("div",{className:"right",children:n.length>0&&s(F,{children:[e("img",{alt:"file",src:URL.createObjectURL(n[n.length-1]),onClick:()=>N()}),e("span",{onClick:()=>m(),children:"\xD7"})]})})]}),e("hr",{}),s("div",{className:"bottom",children:[s("div",{className:"left",children:[e("input",{type:"file",id:"file",style:{display:"none"},onChange:f}),e("label",{htmlFor:"file",children:s("div",{className:"item",children:[e("img",{src:"image-svgrepo-com.svg",alt:"addImage"}),e("span",{children:"Add Image"})]})}),s("div",{className:"item",children:[e("img",{src:"map-svgrepo-com.svg",alt:"place"}),e("span",{children:"Add Place"})]}),s("div",{className:"item",children:[e("img",{src:"add-user-svgrepo-com.svg",alt:"tag friends"}),e("span",{children:"Tag Friends"})]})]}),e("div",{className:"right",children:e("button",{onClick:b,children:"Post it!"})})]})]})})}function A(){var n;const{authUser:t}=p();return s("div",{className:"stoires",children:[s("div",{className:"story",style:{background:"url('/pexels-register.jpg') center / cover",opacity:.9},children:[e("img",{src:t==null?void 0:t.avatar,alt:"user"}),s("div",{className:"add",children:[e("span",{children:e("button",{type:"button",children:"+"})}),e("span",{children:"Add Story"})]})]}),(n=g)==null?void 0:n.map(r=>s("div",{className:"story",style:{background:`radial-gradient(
              rgba(13, 14, 14, 0.2),
              rgba(13, 14, 14, 0.2)
            ), url(${r.image}) center / cover`},children:[e("img",{src:r.user.avatar,alt:"story"}),e("div",{children:`${r.user.firstName} ${r.user.lastName}`})]},r.id)),g.length>3&&e("span",{className:"next",children:"\u276F"})]})}function O(){return e("div",{className:"home",children:s("div",{className:"containerHome",children:[e(A,{}),e(k,{}),e(j,{})]})})}export{O as default};
